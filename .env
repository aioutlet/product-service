# =============================================================================
# PRODUCT SERVICE - LOCAL DEVELOPMENT CONFIGURATION
# =============================================================================
# This file is used for local development with Docker infrastructure
# Optimized for debugging and development productivity
# Copied to .env automatically by scripts/deploy.sh local

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
# FastAPI application settings for local development
ENVIRONMENT=development
DEBUG=true
APP_NAME=product-service
VERSION=1.0.0

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
# Local development server settings with hot reload
HOST=0.0.0.0
PORT=8003
RELOAD=true

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# MongoDB connection to local Docker infrastructure
MONGODB_URI=mongodb://admin:admin123@localhost:27019/product_service_db?authSource=admin
DATABASE_NAME=product_service_db

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
# Redis cache connection to local Docker infrastructure (Database 5 for Product Service)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis_dev_pass_123
REDIS_DB=5
REDIS_URL=redis://:redis_dev_pass_123@localhost:6379/5

# Cache Time-To-Live settings (in seconds) - Shorter for development
CACHE_TTL_PRODUCTS=900         # 15 minutes
CACHE_TTL_CATEGORIES=1800      # 30 minutes
CACHE_TTL_SEARCH=300          # 5 minutes
CACHE_TTL_REVIEWS=600         # 10 minutes

# =============================================================================
# BUSINESS LOGIC CONFIGURATION
# =============================================================================
# Product service business rules and limits for local development
MAX_PRODUCTS_PER_PAGE=50
DEFAULT_PRODUCTS_PER_PAGE=20
MAX_REVIEW_LENGTH=1000
MIN_REVIEW_LENGTH=10
PRODUCT_IMAGE_MAX_SIZE=5242880  # 5MB in bytes

# =============================================================================
# SERVICE DISCOVERY CONFIGURATION
# =============================================================================
# URLs for communication with other microservices in local environment
USER_SERVICE_URL=http://localhost:3002
AUTH_SERVICE_URL=http://localhost:3001
ADMIN_SERVICE_URL=http://localhost:3010
AUDIT_SERVICE_URL=http://localhost:9000
INVENTORY_SERVICE_URL=http://localhost:5000

# =============================================================================
# MESSAGE BROKER CONFIGURATION
# =============================================================================
# Message broker type: rabbitmq or kafka
MESSAGE_BROKER_TYPE=rabbitmq

# RabbitMQ connection to local Docker infrastructure
RABBITMQ_URL=amqp://admin:admin123@localhost:5672
MESSAGE_BROKER_QUEUE=product-service.queue

# Message Broker Service URL for publishing events
MESSAGE_BROKER_SERVICE_URL=http://localhost:4000
MESSAGE_BROKER_API_KEY=dev-api-key-12345

# Kafka configuration (when MESSAGE_BROKER_TYPE=kafka)
# KAFKA_BROKERS=localhost:9092,localhost:9093,localhost:9094
# KAFKA_TOPICS=aioutlet.events
# KAFKA_GROUP_ID=product-service-group

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# JWT and authentication settings for local development
JWT_SECRET=your-super-secret-jwt-key-for-development-only
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440  # 24 hours (longer for development convenience)
SECRET_KEY=product-local-secret-key-for-development-only

# =============================================================================
# API CONFIGURATION
# =============================================================================
# REST API settings with permissive CORS for local development
API_V1_PREFIX=/api/v1
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:3010,http://localhost:8000
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_ALLOW_HEADERS=*

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================
# Relaxed rate limiting for local development
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_WINDOW=3600

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Enhanced logging for local debugging
SERVICE_NAME=product-service
SERVICE_VERSION=1.0.0
LOG_LEVEL=DEBUG
LOG_FORMAT=console
LOG_TO_CONSOLE=true
LOG_TO_FILE=true
LOG_FILE_PATH=./logs/product-service.log

# =============================================================================
# OBSERVABILITY CONFIGURATION
# =============================================================================
# Distributed tracing for local development
ENABLE_TRACING=true
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1/traces
CORRELATION_ID_HEADER=x-correlation-id

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
# Product image upload settings
UPLOAD_DIRECTORY=./uploads
ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,webp

# =============================================================================
# SEARCH CONFIGURATION
# =============================================================================
# Product search and filtering settings
SEARCH_RESULTS_LIMIT=100
FUZZY_SEARCH_THRESHOLD=0.7

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================
# Local development specific settings
TESTING=false
