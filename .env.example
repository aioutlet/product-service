# =============================================================================
# PRODUCT SERVICE - CONFIGURATION TEMPLATE
# =============================================================================
# This file serves as a template for creating environment-specific configuration files
# Copy this file and rename it to .env.{environment}, then fill in the appropriate values
# Available environments: local, development, production

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
# FastAPI application settings
ENVIRONMENT=template
DEBUG=true
APP_NAME=product-service
VERSION=1.0.0

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
# Web server binding settings
HOST=0.0.0.0
PORT=8000
RELOAD=true

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# MongoDB connection settings for product data storage
MONGO_INITDB_ROOT_USERNAME=admin
MONGO_INITDB_ROOT_PASSWORD=admin123
MONGO_INITDB_DATABASE=product_service_db
MONGODB_HOST=localhost
MONGODB_PORT=27019
MONGODB_AUTH_SOURCE=admin
DATABASE_NAME=product_service_db

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
# Redis cache settings for performance optimization
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=YOUR_REDIS_PASSWORD
REDIS_DB=5
REDIS_URL=redis://:YOUR_REDIS_PASSWORD@localhost:6379/5

# Cache Time-To-Live settings (in seconds)
CACHE_TTL_PRODUCTS=900         # 15 minutes
CACHE_TTL_CATEGORIES=1800      # 30 minutes  
CACHE_TTL_SEARCH=300          # 5 minutes
CACHE_TTL_REVIEWS=600         # 10 minutes

# =============================================================================
# BUSINESS LOGIC CONFIGURATION
# =============================================================================
# Product service business rules and limits
MAX_PRODUCTS_PER_PAGE=50
DEFAULT_PRODUCTS_PER_PAGE=20
MAX_REVIEW_LENGTH=1000
MIN_REVIEW_LENGTH=10
PRODUCT_IMAGE_MAX_SIZE=5242880  # 5MB in bytes

# =============================================================================
# SERVICE DISCOVERY CONFIGURATION
# =============================================================================
# URLs for communication with other microservices
USER_SERVICE_URL=http://localhost:3002/api/v1
AUTH_SERVICE_URL=http://localhost:3001/api/v1
ADMIN_SERVICE_URL=http://localhost:3010/api/v1
AUDIT_SERVICE_URL=http://localhost:9000/api/v1
INVENTORY_SERVICE_URL=http://localhost:5000/api/v1

# =============================================================================
# MESSAGE BROKER CONFIGURATION
# =============================================================================
# RabbitMQ settings for asynchronous messaging
RABBITMQ_URL=amqp://YOUR_USERNAME:YOUR_PASSWORD@localhost:5672

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# JWT and authentication settings
JWT_SECRET=YOUR_JWT_SECRET_AT_LEAST_32_CHARACTERS_LONG_FOR_SECURE_SIGNING
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=480  # 8 hours
SECRET_KEY=YOUR_APPLICATION_SECRET_KEY_FOR_ENCRYPTION

# =============================================================================
# API CONFIGURATION
# =============================================================================
# REST API settings and routing
API_V1_PREFIX=/api/v1
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:3010
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_ALLOW_HEADERS=*

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================
# API rate limiting to prevent abuse
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_WINDOW=3600  # 1 hour in seconds

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Application logging and observability settings
SERVICE_NAME=product-service
SERVICE_VERSION=1.0.0
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_TO_CONSOLE=true
LOG_TO_FILE=true
LOG_FILE_PATH=./logs/product-service.log

# =============================================================================
# OBSERVABILITY CONFIGURATION
# =============================================================================
# Distributed tracing and monitoring
ENABLE_TRACING=true
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1/traces
CORRELATION_ID_HEADER=x-correlation-id

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
# Product image upload settings
UPLOAD_DIRECTORY=./uploads
ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,webp

# =============================================================================
# SEARCH CONFIGURATION
# =============================================================================
# Product search and filtering settings
SEARCH_RESULTS_LIMIT=100
FUZZY_SEARCH_THRESHOLD=0.7

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================
# Test environment settings
TESTING=false

# =============================================================================
# SECURITY NOTES
# =============================================================================
# 1. Never commit real passwords, secrets, or connection strings to version control
# 2. Use different credentials and keys for each environment (local, development, production)
# 3. In production, use environment variables or secret management systems
# 4. Rotate passwords, JWT secrets, and API keys regularly
# 5. Use strong, unique passwords for databases, message brokers, and cache stores
# 6. Enable SSL/TLS for all production connections
# 7. Implement proper access controls and network segmentation
# 8. Use Redis database 5 specifically for Product Service to avoid conflicts

# =============================================================================
# CONFIGURATION FILES STRUCTURE
# =============================================================================
# .env                 - Base configuration (Local environment)
# .env.local           - Local development overrides
# .env.development     - Development environment settings
# .env.production      - Production environment settings
# .env.example         - This template file with documentation
